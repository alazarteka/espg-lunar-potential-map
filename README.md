# Lunar Prospector Plasma Analysis

## Description

This project analyzes data from the Lunar Prospector mission to model plasma flux and map lunar surface potential. It utilizes data from the NASA Planetary Data System and SPICE kernels for trajectory and orientation information.

Currently in active development—major revisions ongoing.

## Project Structure

```
.
├── README.md               # This file
├── data.py                 # Handles data and SPICE kernel acquisition
├── flux.py                 # Flux and potential calculation logic
├── model.py                # Core modeling components
├── potential_mapper.py     # Potential mapping logic
├── utils.py                # Utility functions
├── environment-base.yml    # Conda environment definition
├── .gitignore              # Git ignore file
├── data/                   # Processed data (created/populated by src/data.py)
│   └── spice_kernels/      # SPICE kernel files
│       └── kernels.lock    # SHA-1 for SPICE kernels
└── src/                    # Source code
    ├── config.py           # Configuration file
    ├── data.py             # Handles data and SPICE kernel acquisition
    ├── flux.py             # Flux and potential calculation logic
    ├── kappa_fitter.py     # Kappa distribution fitting
    ├── model.py            # Core modeling components
    ├── potential_mapper.py # Potential mapping logic
    └── utils/              # Utility functions module
        ├── __init__.py
        ├── attitude.py
        ├── coordinates.py
        ├── file_ops.py
        ├── geometry.py
        └── spice_ops.py
```

## Installation

1.  **Set up the environment:**
    Ensure you have Anaconda installed.
    ```bash
    conda env create -f environment-base.yml
    conda activate urp-mapping
    ```

2.  **Download necessary data:**
    *   With the conda environment active, run the data acquisition script:
    ```bash
    python -m src.data
    ```


## Data

*   Data required by the core modules are expected in `data/`.
*   SPICE kernels are expected in `data/spice_kernels/`.
*   Running `src/data.py` will download the files in the appropriate directory if they are not locally available.
*   SHA-1 for SPICE kernels used in `data/spice_kernels/kernels.lock`, generated by running ```shasum -a 1 data/spice_kernels/*.* > data/spice_kernels/kernels.lock``` in the home directory.

## Usage

After setting up and downloading data, run the desired module. For example:
```bash
python -m src.potential_mapper
```