# Pre-commit hooks for ESPG Lunar Potential Map
# Install: pre-commit install
# Run manually: pre-commit run --all-files

repos:
  - repo: local
    hooks:
      - id: ruff
        name: ruff (check)
        entry: uv --no-cache run ruff check --fix --exit-non-zero-on-fix
        language: system
        files: ^(src|tests)/

      - id: ruff-format
        name: ruff (format)
        entry: uv --no-cache run ruff format
        language: system
        files: ^(src|tests)/

      - id: pytest
        name: pytest
        entry: 'env CUDA_VISIBLE_DEVICES="" uv --no-cache run pytest -m "not skip_ci" --tb=short'
        language: system
        pass_filenames: false
        always_run: true
